## Final Year Project I Proposal Document
**Program:** Electronics and Telecommunication Engineering  
**University of Rwanda – College of Science and Technology**  

---

### 1. Project Title

**Design and Implementation of a LoRa‑Based Wireless Sensor Network for Real‑Time Acoustic Leak Detection in Water Distribution Systems**

---

### 2. Problem Description

Water distribution systems are vital for ensuring access to safe and reliable water for households, industries, and public services. In Rwanda, the Water and Sanitation Corporation (WASAC) faces persistent challenges related to **Non‑Revenue Water (NRW)**, which includes physical losses (leaks and bursts), commercial losses (meter inaccuracies), and unauthorized consumption. A significant portion of NRW arises from **undetected underground leaks and sudden pipe bursts** that remain unnoticed for long periods.

Current leak detection practices are mainly **manual and reactive**, depending on:

- Field inspections by technicians using listening sticks or ground microphones  
- Customer complaints about low pressure or visible surface leaks  
- Visual observations of water emerging at the surface  

These approaches are time‑consuming, labour‑intensive, and often detect leaks only after substantial water has already been lost. This leads to:

- Increased operational costs for pumping and treating water that never generates revenue  
- Reduced system efficiency, including pressure drops and service interruptions  
- Potential contamination risks, where pressure fluctuations near leaks can draw contaminants into the pipelines  
- Delayed maintenance, as there is no continuous monitoring or early warning mechanism  

Commercial high‑end acoustic correlators and SCADA‑based monitoring systems can support automated leak detection, but they are **expensive, infrastructure‑heavy, and require specialized expertise**, making them difficult to adopt widely in developing countries.

**Problem Statement:**  
There is currently no affordable, scalable, and energy‑efficient monitoring solution that uses low‑power wireless sensor networks and acoustic sensing to continuously monitor water pipelines and automatically detect leaks in real time within the context of Rwanda’s water distribution systems.

---

### 3. Existing Solutions

#### 3.1 Acoustic Leak Detection Devices

Commercial acoustic leak detectors and correlators deploy sensors (hydrophones or accelerometers) on pipes or valves to capture noise generated by escaping water. Correlation between signals at two points can be used to locate leaks.

- Strengths:  
  - High accuracy and good leak localization in controlled conditions  
  - Non‑intrusive and can locate leaks without excavation  

- Weaknesses:  
  - Very high capital and maintenance costs  
  - Require skilled operators and interpretation  
  - Reduced performance in noisy or complex urban environments  
  - Not suitable for dense, continuous monitoring along long pipe stretches  

#### 3.2 Manual Listening Methods

Technicians use listening sticks and ground microphones to listen for leak noise at hydrants, valves, and accessible pipe points.

- Strengths:  
  - Low initial cost of equipment  
  - Simple tools familiar to many field technicians  

- Weaknesses:  
  - Labour‑intensive and time‑consuming  
  - Highly dependent on operator experience and hearing ability  
  - Not suitable for early detection or 24/7 monitoring  
  - Cannot cover long pipeline distances continuously  

#### 3.3 District Metered Area (DMA) Analysis

DMA analysis divides the network into metered zones and monitors inflows and pressures to estimate water losses within each zone.

- Strengths:  
  - Useful for identifying areas with high losses  
  - Supports planning and prioritization of maintenance  

- Weaknesses:  
  - Does not pinpoint exact leak locations  
  - Often used for periodic analysis rather than real‑time detection  
  - Requires reliable flow and pressure metering infrastructure  

#### 3.4 SCADA and Smart Monitoring Systems

SCADA systems use distributed sensors, PLCs, and central servers for monitoring and controlling water networks.

- Strengths:  
  - Real‑time data acquisition and control  
  - High reliability and integration with other utility functions  

- Weaknesses:  
  - High installation and maintenance costs  
  - Complex infrastructure requirements  
  - Typically not dense enough to monitor every pipe segment acoustically  

**Conclusion on Existing Solutions:**  
Current methods are too expensive, manual, or insufficiently granular to provide affordable, continuous, and fine‑grained leak monitoring for water utilities in Rwanda. This gap motivates the development of a **low‑cost, LoRa‑based acoustic wireless sensor network**.

---

### 4. Proposed Solution

The project proposes a **LoRa‑based Wireless Sensor Network (WSN)** for **real‑time acoustic leak detection** in water distribution systems. The system consists of low‑cost sensor nodes installed along pipelines, a LoRa communication network, a central gateway, and a monitoring platform.

#### 4.1 System Overview

- Distributed sensor nodes attached to the pipe to capture acoustic/vibration signals  
- On‑node processing to extract features and detect abnormal acoustic patterns linked to leaks  
- LoRa communication for long‑range, low‑power data transmission to a gateway  
- Gateway and backend to receive, store, and visualize data and generate alerts  

Each sensor node continuously samples acoustic signals from the pipe. The embedded algorithm analyzes the signal to distinguish between normal flow and leak‑related patterns. When a suspected leak is detected, the node sends an alert or feature summary via LoRa to a central gateway, which forwards data to a PC or cloud platform for logging and visualization.

#### 4.2 Key Features and Innovations

- Low‑cost hardware using off‑the‑shelf microcontrollers, acoustic sensors, and LoRa modules  
- Energy‑efficient operation with low‑power modes and event‑driven communication  
- Scalability, as many nodes can be added along pipelines and served by a small number of gateways  
- Context‑specific design adapted to Rwanda’s economic and infrastructure constraints  

#### 4.3 Development Approach

- Design phase: Requirements analysis, architecture design, and component selection  
- Prototyping phase: Hardware assembly of sensor nodes and gateway, plus lab‑scale pipeline testbed construction  
- Firmware/software phase: Embedded code for acquisition and processing, gateway software, and visualization/dashboard  
- Testing phase: Lab experiments under different flow and leak scenarios to evaluate detection performance and power consumption  

#### 4.4 Success Criteria

- Accurate leak detection (e.g., ≥ 80–90% detection rate for defined leak sizes in lab conditions)  
- Low false alarm rate  
- Reliable LoRa communication over target distances in lab environment  
- Low power usage, supporting extended operation on battery power  
- System uptime ≥ 95% during test periods  

---

### 5. Innovation and Expected Outcomes

#### 5.1 Innovation

- Combining acoustic sensing with LoRa‑based WSN: Integrates low‑cost acoustic sensors with embedded processing and long‑range, low‑power LoRa communication into a single system.  
- Local intelligence at the edge: Leak detection is performed directly on the sensor node, reducing bandwidth needs and enabling fast response.  
- Rwandan context adaptation: Focuses on affordability, energy efficiency, and ease of deployment for local water utilities.

#### 5.2 Expected Outcomes

- Functional prototype of a LoRa‑based acoustic sensor node and gateway  
- Laboratory demonstration of real‑time leak detection on a small pipeline testbed  
- Performance evaluation data including detection accuracy, false alarm rates, communication reliability, and estimated battery life  
- Design documentation and guidelines for potential scaling to real‑world water networks  

---

### 6. Technical Specifications

#### 6.1 System Architecture (Block Description)

- Sensor Node:  
  - Acoustic/vibration sensor (e.g., piezoelectric or MEMS microphone in contact with the pipe)  
  - Signal conditioning (amplification and filtering)  
  - Low‑power microcontroller (e.g., ESP32/STM32/Arduino‑class board)  
  - LoRa transceiver module (e.g., SX1276‑based)  
  - Battery power supply with optional solar charging  

- Gateway:  
  - LoRa receiver/transceiver  
  - Processing unit (Raspberry Pi or PC with USB‑LoRa)  
  - Software for data reception, parsing, logging, and forwarding to a dashboard  

- Monitoring Platform:  
  - Local or cloud‑based application  
  - Real‑time display of node status, leak events, and historical trends  

#### 6.2 Key Parameters

- Sampling rate: ~2–10 kHz  
- ADC resolution: 10–12 bits  
- LoRa parameters:  
  - ISM band according to RURA regulations  
  - Adjustable spreading factor and bandwidth to balance range and data rate  
- Power performance:  
  - Sleep and wake‑on‑event operation  
  - Target battery life of several weeks to months (in prototype estimates)  

#### 6.3 Algorithms

- Time‑domain features (RMS, variance, peak amplitude)  
- Simple spectral analysis (optional) using FFT for energy in selected frequency bands  
- Threshold‑based decision logic comparing current features to baseline normal operation levels  

---

### 7. Technical Feasibility and Resource Requirements

#### 7.1 Feasibility

The project is technically feasible because it is based on:

- Mature and accessible microcontroller and LoRa technologies  
- Simple signal processing methods suitable for low‑power devices  
- A lab‑scale testbed that can be built with standard departmental equipment  

#### 7.2 Required Equipment and Facilities

- Electronics lab (soldering tools, multimeter, oscilloscope if available)  
- Embedded development tools (USB‑TTL, programmers)  
- Piping, valves, tank, and pump for the lab‑scale pipeline testbed  

#### 7.3 Software and Tools

- Embedded IDEs (Arduino IDE, PlatformIO, STM32CubeIDE, etc.)  
- Programming languages: C/C++ for firmware, Python/Node.js for gateway and visualization  
- Data analysis tools: MATLAB or Python (NumPy, Matplotlib)  

#### 7.4 Material and Component List (Indicative)

- Microcontroller boards (1–3 units)  
- LoRa modules (2–4 units)  
- Acoustic/vibration sensors and conditioning circuits  
- Batteries and regulators  
- PVC/metal pipes, fittings, valves, small leak orifices  
- Miscellaneous cabling and connectors  

---

### 8. Project Scope and Deliverables

#### 8.1 Scope

- Included:  
  - Design and prototyping of sensor node and gateway  
  - Construction of a lab‑scale pipeline testbed  
  - Implementation of basic on‑node leak detection algorithms  
  - Evaluation of detection performance and communication reliability  

- Excluded:  
  - Full‑scale field deployment on real WASAC networks  
  - Long‑term outdoor reliability studies  
  - Complex machine learning models requiring large datasets  

#### 8.2 Deliverables

- Working sensor node prototype(s) and gateway  
- Lab‑scale pipeline testbed with controllable leaks  
- Firmware and software source code  
- Experimental data and performance analysis  
- Final technical report and project presentation/demonstration  

---

### 9. Target Customers and Market Analysis

- Primary customers:  
  - WASAC and other water utilities in Rwanda and East Africa  

- Secondary customers:  
  - Municipal water departments, industrial facilities, campuses managing internal water networks  

These users need cost‑effective tools to reduce NRW and improve reliability. The increasing push towards smart cities and IoT‑based infrastructure indicates a growing demand for such solutions. A low‑cost, locally developed system could find a strong niche in the regional market.

---

### 10. Project Feasibility and Resource Requirements (Summary)

The project is feasible in terms of time, skills, and resources typically available for a final year project:

- Technical challenges (noise handling, power efficiency, link reliability) are manageable using iterative prototyping.  
- Labs and tools required exist within the College of Science and Technology.  
- The budget for components is modest and primarily covers electronics and piping materials.  

---

### 11. Project Scope (Detailed)

- Goals:  
  - Develop a lab‑scale proof‑of‑concept system demonstrating LoRa‑based acoustic leak detection.  
  - Produce quantitative performance metrics under controlled conditions.  

- Constraints:  
  - Limited time (one academic year) and small team size  
  - Dependence on timely arrival of components and lab availability  

---

### 12. Project Deliverable (Detailed)

- Hardware:  
  - Fully assembled sensor node prototypes with enclosure (if possible)  
  - A LoRa gateway integrated with a PC or Raspberry Pi  
  - Pipeline testbed with valves and leak simulation points  

- Software:  
  - Microcontroller firmware for acquisition, processing, and LoRa communication  
  - Gateway software for receiving, parsing, storing, and visualizing data  

- Documentation:  
  - Schematic diagrams and, if used, PCB design files  
  - User and maintenance instructions for the prototype  
  - Final written report and defence presentation slides  

---

### 13. Relevance to Rwanda/East Africa

This project supports Rwanda’s National Strategy for Transformation (NST1/NST2), Vision 2050, and UN SDG 6 (Clean Water and Sanitation) by targeting efficient and sustainable water resource management. Reducing NRW directly improves utility finances, service reliability, and resource sustainability.

In East Africa, many utilities face similar challenges with aging infrastructure, rapid urbanization, and limited budgets. A low‑cost, locally developed solution enhances technological self‑reliance, stimulates local innovation, and can generate economic, social, and environmental benefits, including improved service continuity and reduced wastage of treated water.

---

### 14. Risk Assessment and Mitigation

#### 14.1 SWOT Summary

- Strengths: Low‑cost, low‑power design; strong alignment with national priorities; interdisciplinary learning  
- Weaknesses: Limited to lab‑scale testing; dependence on lab facilities and procurement  
- Opportunities: Collaboration with utilities; potential commercialization; extension to other infrastructure monitoring  
- Threats: Component delays; lab access constraints; unexpected technical difficulties  

#### 14.2 Key Risks and Mitigation Strategies

- Component procurement delays: Order early, have backup suppliers and alternative parts.  
- Insufficient detection accuracy: Collect extensive baseline data, test various sensors and thresholds, and refine algorithms.  
- LoRa communication issues: Optimize antenna placement and parameters; adjust spreading factor, bandwidth, and TX power.  
- Time management issues: Follow a detailed schedule; prioritize core features; hold regular team meetings.  

---

### 15. Project Timeline

- Weeks 1–3: Literature review, problem refinement, system requirements and architecture  
- Weeks 4–6: Component selection and procurement, initial sensor node and gateway prototypes  
- Weeks 7–9: Firmware development (signal acquisition and processing), LoRa communication setup  
- Weeks 10–11: Gateway software and simple monitoring dashboard  
- Weeks 12–13: Construction and integration of pipeline testbed  
- Weeks 14–16: Experimental testing with no‑leak and leak scenarios, data collection  
- Weeks 17–18: Performance analysis and algorithm refinement  
- Weeks 19–20: Final report writing, documentation, and presentation preparation  

---

### 16. Team Members

- Name: [Student 1 – Team Leader]  
  - Role: System architecture and embedded firmware  
- Name: [Student 2] (optional)  
  - Role: Hardware implementation and testbed construction  
- Name: [Student 3] (optional)  
  - Role: Data analysis, gateway software, and visualization  

---

### 17. Proposed Supervisor/Mentor

- Dr. Kizito Nkulikiyeyezu – Expertise in electronics, embedded systems, and IoT  
- Mr. William Habarurema – Expertise in telecommunications and networking  
- [Lecturer 3] – Expertise in [relevant field, e.g., control systems or communication systems]  

---

### 18. References and Supporting Documents

- Academic and technical papers on acoustic leak detection in water pipelines  
- Literature on long‑range low‑power IoT (LoRa/LoRaWAN) for infrastructure monitoring  
- WASAC and Government of Rwanda documents on NRW and water sector development  
- Datasheets and application notes for selected microcontrollers, LoRa modules, and sensors  

---

## Figures and Charts

You can use the following captions, descriptions, and sample data to create the figures in Word, PowerPoint, or Excel.

---

### Figure 1 – System Architecture Block Diagram

**Caption:**  
Figure 1: Overall architecture of the LoRa‑based acoustic leak detection system.

**Description (how to draw):**

- Draw three main horizontal blocks from left to right:
  - Block 1 (left): `Distributed Acoustic Sensor Nodes`  
    - Inside, add small sub‑blocks or labels:  
      - `Acoustic Sensor`  
      - `Microcontroller`  
      - `LoRa Transceiver`  
      - `Battery / Solar`
  - Block 2 (middle): `LoRa Gateway`  
    - Inside, add:  
      - `LoRa Receiver`  
      - `Processing Unit (e.g., Raspberry Pi/PC)`  
      - `Local Storage / Forwarder`
  - Block 3 (right): `Monitoring & Cloud Platform`  
    - Inside, add:  
      - `Database`  
      - `Web Dashboard`  
      - `Alert System (SMS/Email/Alarms)`

- Connect them with arrows:
  - From each sensor node (small icons) to the `LoRa Gateway`: arrow labelled “LoRa Wireless Link”.  
  - From `LoRa Gateway` to `Monitoring & Cloud Platform`: arrow labelled “Ethernet/Wi‑Fi/USB”.

Text layout example:

```text
[ Acoustic Sensor Node 1 ]      [          LoRa Gateway          ]      [ Monitoring & Cloud Platform ]
[ Acoustic Sensor Node 2 ] ---> [ LoRa Receiver + Raspberry Pi ] --->   [  Database + Dashboard + Alerts ]
[ Acoustic Sensor Node N ]
```

---

### Figure 2 – Sensor Node Block Diagram

**Caption:**  
Figure 2: Internal block diagram of the LoRa‑based acoustic sensor node.

**Description (how to draw):**

- Draw one main rectangle labelled `LoRa Acoustic Sensor Node`.
- Inside, place 5 blocks connected by arrows:

  1. `Acoustic / Vibration Sensor`  
     → arrow to  
  2. `Signal Conditioning` (Pre‑Amplifier + Filter)  
     → arrow to  
  3. `Microcontroller Unit (MCU)`  
     - Under MCU, list functions:  
       - `ADC Sampling`  
       - `Signal Processing (RMS / FFT)`  
       - `Leak Detection Algorithm`  
  4. From MCU, arrow to `LoRa Transceiver Module`  
  5. On the side/bottom, draw `Power Supply` block connected to MCU + LoRa:  
     - `Battery`  
     - `Voltage Regulator`  
     - (Optional) `Solar Panel / Charger`

Text layout example:

```text
           [ Acoustic / Vibration Sensor ]
                        |
                [ Signal Conditioning ]
                        |
              [ Microcontroller (MCU) ]
                |    |          |
              ADC  Processing  Leak Detect
                        |
               [ LoRa Transceiver ]
                        |
                 ~ Wireless Link ~

              [ Power Supply (Battery/
                 Regulator/Solar) ]
```

---

### Figure 3 – Project Gantt Chart (Timeline)

**Caption:**  
Figure 3: Proposed project timeline for the LoRa‑based leak detection system.

**Example table (Weeks 1–20):**

| Phase                              | Weeks  |
|------------------------------------|--------|
| Literature review & requirements   | 1 – 3  |
| System architecture & components   | 2 – 4  |
| Hardware prototyping               | 4 – 6  |
| Firmware development (MCU + LoRa)  | 7 – 9  |
| Gateway & dashboard software       | 10 –11 |
| Testbed construction (pipeline)    | 12 –13 |
| Testing & data collection          | 14 –16 |
| Analysis & optimization            | 17 –18 |
| Report & presentation preparation  | 19 –20 |

In PowerPoint/Excel:

- X‑axis: Weeks (1–20)  
- Y‑axis: Phases (rows above)  
- Draw horizontal bars spanning the weeks for each phase.

---

### Figure 4 – Sample Leak Detection Results (Time‑Series Graph)

**Caption:**  
Figure 4: Example RMS acoustic signal level over time for normal operation vs leak condition.

Use this as a line graph with Time (s) on X‑axis and RMS amplitude (arbitrary units) on Y‑axis. Plot two lines: Normal and Leak.

Sample data:

| Time (s) | Normal RMS | Leak RMS |
|----------|------------|----------|
| 0        | 0.20       | 0.20     |
| 1        | 0.22       | 0.45     |
| 2        | 0.21       | 0.50     |
| 3        | 0.23       | 0.55     |
| 4        | 0.22       | 0.60     |
| 5        | 0.21       | 0.58     |
| 6        | 0.23       | 0.62     |
| 7        | 0.22       | 0.60     |
| 8        | 0.21       | 0.59     |
| 9        | 0.22       | 0.61     |
| 10       | 0.23       | 0.63     |

- Add a horizontal leak detection threshold line (e.g., RMS = 0.40) to show when the leak is detected.

---

### Figure 5 – Detection Performance Bar Chart (Optional)

**Caption:**  
Figure 5: Example detection performance: detection rate and false alarm rate.

Sample data:

| Metric           | Value (%) |
|------------------|-----------|
| Detection Rate   | 90        |
| False Alarm Rate | 10        |

- X‑axis: Detection Rate, False Alarm Rate  
- Y‑axis: Percentage (0–100%).  


